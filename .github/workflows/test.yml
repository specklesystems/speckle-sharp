name: Tester

on:
  push:
    branches:
      - dui3/ci/*

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Setup .NET
        uses: actions/setup-dotnet@v4
        with:
          dotnet-version: 7.x.x

      - name: Invoke workflow in another repo with inputs
        uses: aurelien-baudet/workflow-dispatch@v2
        with:
          workflow: Build Installers
          repo: specklesystems/connector-installers
          token: ${{ secrets.CONNECTORS_GH_TOKEN }}
          inputs: '{ "run_id": "9226788131", "version": "3.0.0-pr3418.162" }'
          ref: main
